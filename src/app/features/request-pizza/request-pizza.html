<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-6 text-center">Pedidos a Pagar</h1>

  <!-- Pay button [disabled]="isCartEmpty()" -->
  <div class="flex justify-end mb-2">
    <button
      (click)="pay()"
      class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95 disabled:transform-none disabled:bg-gray-400 disabled:hover:bg-gray-400 disabled:cursor-not-allowed disabled:shadow-none disabled:opacity-75 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"
    >
      Pagar
    </button>
  </div>

  <!-- Total note -->
  <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4">
    <div class="flex justify-between items-center">
      <div class="text-yellow-700">
        <p class="font-semibold">Total</p>
        <p class="text-lg">{{ totalPrice() | number:'1.2-2' }}</p>
      </div>
      @if(cartItems().length > 0){
      <span
        class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded"
      >
        Listo para Pagar
      </span>
      }
    </div>
  </div>

  <app-generic-table
    [columns]="columns"
    [data]="cartItemsWithSubtotal()"
    [showActions]="true"
    [actions]="actions"
    (actionClick)="handleAction($event)"
    (cellClick)="handleCellClick($event)"
  ></app-generic-table>
</div>
