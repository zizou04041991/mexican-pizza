import{c as $,e as F,i as D,j,k as B,m as O}from"./chunk-H36MSNBR.js";import{e as N}from"./chunk-KA7CIO7I.js";import{a as A}from"./chunk-EDJ2GV7D.js";import{Ca as I,Pa as b,Qa as h,R as S,Ra as k,Sa as q,Ta as f,Ua as y,Va as g,W as p,Wa as n,X as u,Xa as t,Y as E,Ya as M,ab as v,eb as m,fa as w,gb as c,hb as T,ib as V,jb as r,kb as x,lb as z,nb as R,ob as P,pb as C,ta as l,ub as _}from"./chunk-HMDM73EM.js";var L=()=>[],G=(a,i)=>i.id;function H(a,i){a&1&&(n(0,"span",9),r(1," Listo para Pagar "),t())}function J(a,i){if(a&1){let e=v();n(0,"tr")(1,"td",19),r(2),t(),n(3,"td",20),r(4),t(),n(5,"td",14),r(6),P(7,"number"),t(),n(8,"td",15),r(9),t(),n(10,"td",21),r(11),P(12,"number"),t(),n(13,"td",21),r(14,"eligiendo cliente"),t(),n(15,"td",15)(16,"div",22)(17,"button",23),m("click",function(){let d=p(e).$implicit,s=c(2);return u(s.decrementQuantity(d))}),r(18," - "),t(),n(19,"button",24),m("click",function(){let d=p(e).$implicit,s=c(2);return u(s.incrementQuantity(d))}),r(20," + "),t(),n(21,"button",25),m("click",function(){let d=p(e).$implicit,s=c(2);return u(s.removeItem(d.id))}),E(),n(22,"svg",26),M(23,"path",27),t()()()()()}if(a&2){let e=i.$implicit,o=i.$index;T("bg-gray-50",o%2===0)("bg-white",o%2!==0),l(2),x(e.name),l(2),x(e.ingredients),l(2),z(" ",C(7,9,e.price,"1.2-2")," "),l(3),x(e.count),l(2),z(" ",C(12,12,e.price*e.count,"1.2-2")," ")}}function K(a,i){if(a&1&&f(0,J,24,15,"tr",18,G),a&2){let e=c();y(e.paginatedItems())}}function U(a,i){a&1&&(n(0,"tr")(1,"td",28),r(2," No ha realizado ninguna solicitud "),t()())}function W(a,i){if(a&1&&(n(0,"option",32),r(1),t()),a&2){let e=i.$implicit;g("value",e),l(),x(e)}}function X(a,i){if(a&1){let e=v();n(0,"button",37),m("click",function(){let d=p(e).$index,s=c(2);return u(s.changePage(d+1))}),r(1),t()}if(a&2){let e=i.$index,o=c(2);V(o.currentPage()===e+1?"bg-blue-600 text-white px-4 py-1 border border-blue-600":"bg-white text-gray-700 hover:bg-gray-50 px-4 py-1 border border-gray-300"),l(),z(" ",e+1," ")}}function Y(a,i){if(a&1){let e=v();n(0,"div",17)(1,"div",29)(2,"span",30),r(3,"Items por p\xE1gina:"),t(),n(4,"select",31),m("ngModelChange",function(d){p(e);let s=c();return u(s.changePageSize(d))}),f(5,W,2,2,"option",32,q),t()(),n(7,"nav",33)(8,"button",34),m("click",function(){p(e);let d=c();return u(d.changePage(d.currentPage()-1))}),r(9," Anterior "),t(),f(10,X,2,3,"button",35,k),n(12,"button",36),m("click",function(){p(e);let d=c();return u(d.changePage(d.currentPage()+1))}),r(13," Siguiente "),t()()()}if(a&2){let e=c();l(4),g("ngModel",e.pageSize()),l(),y(e.pageSizeOptions),l(3),g("disabled",e.currentPage()===1),l(2),y(R(3,L).constructor(e.totalPages())),l(2),g("disabled",e.currentPage()===e.totalPages())}}var Q=class a{store=S(A);isCartEmpty=_(()=>this.store.getCart().length===0);currentPage=w(1);pageSize=w(5);pageSizeOptions=[5,10,20];cartItems=_(()=>this.store.getCart());totalPrice=_(()=>this.store.totalPrice());paginatedItems=_(()=>{let i=(this.currentPage()-1)*this.pageSize();return this.cartItems().slice(i,i+this.pageSize())});totalPages=_(()=>Math.ceil(this.cartItems().length/this.pageSize()));incrementQuantity(i){this.store.updateCartItem(i.id,{count:i.count+1})}decrementQuantity(i){i.count>1?this.store.updateCartItem(i.id,{count:i.count-1}):this.removeItem(i.id)}removeItem(i){this.store.removeFromCart(i),this.paginatedItems().length===0&&this.currentPage()>1&&this.currentPage.set(this.currentPage()-1)}changePage(i){this.currentPage.set(i)}changePageSize(i){this.pageSize.set(i),this.currentPage.set(1)}pay(){this.cartItems().length>0&&(alert(`Orden completada por $${this.totalPrice().toFixed(2)}`),this.store.clearCart())}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=I({type:a,selectors:[["app-request-pizza"]],decls:37,vars:8,consts:[[1,"container","mx-auto","p-4"],[1,"text-2xl","font-bold","mb-6","text-center"],[1,"flex","justify-end","mb-2"],[1,"bg-blue-600","hover:bg-blue-700","text-white","font-bold","py-2","px-6","rounded-lg","shadow-md","transition-all","duration-300","ease-in-out","transform","hover:scale-105","active:scale-95","disabled:transform-none","disabled:bg-gray-400","disabled:hover:bg-gray-400","disabled:cursor-not-allowed","disabled:shadow-none","disabled:opacity-75","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-opacity-50",3,"click","disabled"],[1,"bg-yellow-50","border-l-4","border-yellow-400","p-4","mb-4"],[1,"flex","justify-between","items-center"],[1,"text-yellow-700"],[1,"font-semibold"],[1,"text-lg"],[1,"bg-green-100","text-green-800","text-xs","font-medium","px-2.5","py-0.5","rounded"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","rounded-lg","overflow-hidden"],[1,"bg-gray-800","text-white"],[1,"py-3","px-4","text-left"],[1,"py-3","px-4","text-right"],[1,"py-3","px-4","text-center"],[1,"divide-y","divide-gray-200"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","mt-4","gap-4"],[3,"bg-gray-50","bg-white"],[1,"py-3","px-4","font-medium"],[1,"py-3","px-4"],[1,"py-3","px-4","text-right","font-medium"],[1,"flex","items-center","justify-center","space-x-2"],[1,"bg-red-500","hover:bg-red-600","text-white","w-8","h-8","rounded-full","flex","items-center","justify-center",3,"click"],[1,"bg-green-500","hover:bg-green-600","text-white","w-8","h-8","rounded-full","flex","items-center","justify-center",3,"click"],[1,"bg-gray-500","hover:bg-gray-600","text-white","w-8","h-8","rounded-full","flex","items-center","justify-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],["colspan","6",1,"py-8","text-center","text-gray-500","italic"],[1,"flex","items-center","gap-2"],[1,"text-sm","text-gray-700"],[1,"border","border-gray-300","rounded-md","px-3","py-1","text-sm",3,"ngModelChange","ngModel"],[3,"value"],[1,"inline-flex","rounded-md","shadow"],[1,"px-3","py-1","rounded-l-md","border","border-gray-300","bg-white","text-gray-700","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[3,"class"],[1,"px-3","py-1","rounded-r-md","border","border-gray-300","bg-white","text-gray-700","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[3,"click"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"h1",1),r(2,"Solicitud"),t(),n(3,"div",2)(4,"button",3),m("click",function(){return o.pay()}),r(5," Pagar "),t()(),n(6,"div",4)(7,"div",5)(8,"div",6)(9,"p",7),r(10,"Total"),t(),n(11,"p",8),r(12),P(13,"number"),t()(),b(14,H,2,0,"span",9),t()(),n(15,"div",10)(16,"table",11)(17,"thead",12)(18,"tr")(19,"th",13),r(20,"Nombre"),t(),n(21,"th",13),r(22,"Ingredientes"),t(),n(23,"th",14),r(24,"Precio"),t(),n(25,"th",15),r(26,"Cantidad"),t(),n(27,"th",14),r(28,"Subtotal"),t(),n(29,"th",14),r(30,"Estado"),t(),n(31,"th",15),r(32,"Acciones"),t()()(),n(33,"tbody",16),b(34,K,2,0)(35,U,3,0,"tr"),t()()(),b(36,Y,14,4,"div",17),t()),e&2&&(l(4),g("disabled",o.isCartEmpty()),l(8),x(C(13,5,o.totalPrice(),"1.2-2")),l(2),h(o.cartItems().length>0?14:-1),l(20),h(o.cartItems().length>0?34:35),l(2),h(o.cartItems().length?36:-1))},dependencies:[O,j,B,D,$,F,N],encapsulation:2})};export{Q as RequestPizza};
